{% extends "UserPages/layout.html" %}

{% block body %}
<h1>Moderate Page</h1>




{% for post in posts %}

{% if user == post.author or perms.UserPages.delete_usercontent %}
<div class="card mt-2">
  <div class="card-header"><strong>@{{ post.author.username }} </strong></div>
  <div class="card-body d-flex flex-row justify-content-between">
    <div>
      <h5 class="card-title">{{post.title}}</h5>
      <p> {{post.content}}</p>
         
    </div>
    <div>
      
       <form method="post">
          {% csrf_token %}
          <button type = "submit" class="btn btn-danger" name = "post-id" value="{{post.id}}">Delete</button> 
        </form>
      
      {% if user.is_staff %}
      <form method="post">
        {% csrf_token %}
        <button type = "submit" class="btn btn-warning mt-2" name = "user-id" value="{{post.author.id}}">Ban User</button> 
      </form>
      {% endif %}
    </div>
  </div>
  <div class="card-footer text-muted">Created: {{post.created_at}}  | feeling {{post.mood}}, {{post.feeling}} / 10</div>
</div>
{% endif %}
{% empty %}
<p>No post Yet!</p>

{% endfor %}

{% endblock %}